/* globals.css — versão limpa + consistente (light/dark) */

@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Space+Grotesk:wght@400;500;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   TOKENS (FONTE DA VERDADE)
   - Brand roxo FIXO no dark e light (hover fica igual)
   ========================================================= */
:root {
  --font-size: 16px;
  --font-heading: "Space Grotesk", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  --font-body: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

  /* Palette base */
  --frost-white: #F2FDFF;
  --lavender-ice: #B8A9FE;
  --arctic-sky:  #7BBCFE;
  --deep-navy:   #091636;

  /* Derivados */
  --lavender-600: #6E5CF4; /* roxo forte */
  --sky-600:      #3A99FF;

  /* Seus tokens UI */
  --color-bg-primary: var(--frost-white);
  --color-surface-primary: #FFFFFF;
  --color-surface-elevated: #B8A9FE1A;
  --color-text-primary: var(--deep-navy);
  --color-text-secondary: #33406A;

  /* ✅ Brand roxo do projeto */
  --color-brand-primary: var(--lavender-600);

  --input-background: #FFFFFF;

  /* CTA azul */
  --color-accent-cta: var(--arctic-sky);

  /* Base app */
  --background: var(--frost-white);
  --foreground: var(--deep-navy);

  --card: #FFFFFF;
  --card-foreground: var(--deep-navy);

  --popover: #FFFFFF;
  --popover-foreground: var(--deep-navy);

  --primary: var(--color-brand-primary);
  --primary-foreground: #FFFFFF;

  --secondary: #EEF1FF;
  --secondary-foreground: var(--deep-navy);

  --muted: #EAF2FF;
  --muted-foreground: #54618A;

  --accent: #EAF2FF;
  --accent-foreground: var(--deep-navy);

  --destructive: #d4183d;
  --destructive-foreground: #fff;

  --border: #0916361A;
  --ring: #7BBCFE80;

  --radius: .75rem;
}

.dark {
  --color-bg-primary: var(--deep-navy);
  --color-surface-primary: #0C1B33;
  --color-surface-elevated: #B8A9FE14;
  --color-text-primary: var(--frost-white);
  --color-text-secondary: #C9D4FF;

  /* ✅ mantém o MESMO roxo do light (hover igual) */
  --color-brand-primary: var(--lavender-600);

  /* CTA igual */
  --color-accent-cta: var(--arctic-sky);

  --background: var(--deep-navy);
  --foreground: var(--frost-white);

  --input-background: #102446;

  --card: #0C1B33;
  --card-foreground: var(--frost-white);

  --popover: #0C1B33;
  --popover-foreground: var(--frost-white);

  --primary: var(--color-brand-primary);
  --primary-foreground: #FFFFFF;

  --secondary: #102446;
  --secondary-foreground: var(--frost-white);

  --muted: #0F2144;
  --muted-foreground: #A7B5DE;

  --accent: #0F2144;
  --accent-foreground: var(--frost-white);

  --border: #F2FDFF1A;
  --ring: #7BBCFE80;
}

/* =========================================================
   BASE
   ========================================================= */
@layer base {
  html { font-size: var(--font-size); }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: var(--font-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4, h5, h6 { font-family: var(--font-heading); }

  * {
    border-color: var(--border);
    outline-color: var(--ring);
    transition: background-color .3s, color .3s, border-color .3s, box-shadow .3s;
  }

  /* ✅ Glow e Glass baseados no token (sem hardcode) */
  .glow-purple,
  .glow-purple-hover:hover {
    box-shadow: 0 0 70px -30px color-mix(in srgb, var(--color-brand-primary) 70%, transparent);
  }

  .glass-effect {
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    background: color-mix(in srgb, var(--color-brand-primary) 8%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-brand-primary) 20%, transparent);
  }

  .gradient-text {
    background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-accent-cta) 60%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
  }

  /* opcional: deixa tudo mais “editorial” por padrão */
  :where(h1) { letter-spacing: -0.02em; }
  :where(h2, h3) { letter-spacing: -0.01em; }
}

/* =========================================================
   UTILITIES (classes que você usa no JSX)
   - inclui /10 e hover:/10 do accent-cta (igual ao efeito #00B4D8/10)
   ========================================================= */
@layer utilities {
  /* Mapeamentos diretos */
  .bg-background-primary { background-color: var(--color-bg-primary); }
  .bg-surface-primary { background-color: var(--color-surface-primary); }
  .bg-surface-elevated { background-color: var(--color-surface-elevated); }

  .text-text-primary { color: var(--color-text-primary); }
  .text-text-secondary { color: var(--color-text-secondary); }

  .bg-brand-primary { background-color: var(--color-brand-primary); }
  .text-brand-primary { color: var(--color-brand-primary); }
  .border-brand-primary { border-color: var(--color-brand-primary); }

  .bg-accent-cta { background-color: var(--color-accent-cta); }
  .text-accent-cta { color: var(--color-accent-cta); }
  .border-accent-cta { border-color: var(--color-accent-cta); }

  /* Alpha (tints) */
  .bg-brand-primary\/10 { background-color: color-mix(in srgb, var(--color-brand-primary) 10%, transparent); }
  .bg-brand-primary\/20 { background-color: color-mix(in srgb, var(--color-brand-primary) 20%, transparent); }
  .border-brand-primary\/20 { border-color: color-mix(in srgb, var(--color-brand-primary) 20%, transparent); }
  .border-brand-primary\/30 { border-color: color-mix(in srgb, var(--color-brand-primary) 30%, transparent); }
  .border-brand-primary\/50 { border-color: color-mix(in srgb, var(--color-brand-primary) 50%, transparent); }

  .bg-accent-cta\/10 { background-color: color-mix(in srgb, var(--color-accent-cta) 10%, transparent); }
  .bg-accent-cta\/20 { background-color: color-mix(in srgb, var(--color-accent-cta) 20%, transparent); }

  @media (hover: hover) {
    /* Hover brand */
    .hover\:text-brand-primary:hover { color: var(--color-brand-primary); }
    .hover\:border-brand-primary:hover { border-color: var(--color-brand-primary); }
    .hover\:border-brand-primary\/50:hover { border-color: color-mix(in srgb, var(--color-brand-primary) 50%, transparent); }
    .hover\:bg-brand-primary\/10:hover { background-color: color-mix(in srgb, var(--color-brand-primary) 10%, transparent); }
    .hover\:bg-brand-primary\/20:hover { background-color: color-mix(in srgb, var(--color-brand-primary) 20%, transparent); }

    /* ✅ Hover accent-cta (mesmo efeito do seu #00B4D8/10) */
    .hover\:text-accent-cta:hover { color: var(--color-accent-cta); }
    .hover\:border-accent-cta:hover { border-color: var(--color-accent-cta); }
    .hover\:bg-accent-cta\/10:hover { background-color: color-mix(in srgb, var(--color-accent-cta) 10%, transparent); }
    .hover\:bg-accent-cta\/20:hover { background-color: color-mix(in srgb, var(--color-accent-cta) 20%, transparent); }
    .hover\:bg-accent-cta\/90:hover { background-color: color-mix(in srgb, var(--color-accent-cta) 90%, transparent); }
  }

  /* Melhor consistência quando o navegador suporta oklab */
  @supports (color: color-mix(in oklab, black, black)) {
    .bg-brand-primary\/10 { background-color: color-mix(in oklab, var(--color-brand-primary) 10%, transparent); }
    .bg-brand-primary\/20 { background-color: color-mix(in oklab, var(--color-brand-primary) 20%, transparent); }
    .border-brand-primary\/20 { border-color: color-mix(in oklab, var(--color-brand-primary) 20%, transparent); }
    .border-brand-primary\/30 { border-color: color-mix(in oklab, var(--color-brand-primary) 30%, transparent); }
    .border-brand-primary\/50 { border-color: color-mix(in oklab, var(--color-brand-primary) 50%, transparent); }

    .bg-accent-cta\/10 { background-color: color-mix(in oklab, var(--color-accent-cta) 10%, transparent); }
    .bg-accent-cta\/20 { background-color: color-mix(in oklab, var(--color-accent-cta) 20%, transparent); }

    @media (hover: hover) {
      .hover\:bg-brand-primary\/10:hover { background-color: color-mix(in oklab, var(--color-brand-primary) 10%, transparent); }
      .hover\:bg-brand-primary\/20:hover { background-color: color-mix(in oklab, var(--color-brand-primary) 20%, transparent); }

      .hover\:bg-accent-cta\/10:hover { background-color: color-mix(in oklab, var(--color-accent-cta) 10%, transparent); }
      .hover\:bg-accent-cta\/20:hover { background-color: color-mix(in oklab, var(--color-accent-cta) 20%, transparent); }
      .hover\:bg-accent-cta\/90:hover { background-color: color-mix(in oklab, var(--color-accent-cta) 90%, transparent); }
    }
  }
}
/* Autofill (Chrome/Safari) — remove amarelo/branco e respeita o tema */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
textarea:-webkit-autofill:active,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus,
select:-webkit-autofill:active {
  /* força o fundo do seu tema (com fallback) */
  -webkit-box-shadow: 0 0 0 1000px var(--input-background, #102446) inset !important;
  box-shadow: 0 0 0 1000px var(--input-background, #102446) inset !important;
  background-color: var(--input-background, #102446) !important;

  /* força cor correta do texto */
  -webkit-text-fill-color: var(--color-text-primary) !important;
  caret-color: var(--color-text-primary) !important;

  transition: background-color 9999s ease-in-out 0s;
}

/* =========================================================
   MOBILE OPTIMIZATIONS
   ========================================================= */
html {
  /* Smooth scrolling with offset for fixed header */
  scroll-behavior: smooth;
  scroll-padding-top: 5rem;
}

/* Safe area for notched devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Improve touch targets and mobile experience */
@media (max-width: 768px) {
  /* Better tap highlight */
  button, a {
    -webkit-tap-highlight-color: color-mix(in srgb, var(--color-brand-primary) 20%, transparent);
  }

  /* Prevent text size adjustment */
  body {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Better spacing for mobile forms - respect user font size while preventing iOS zoom */
  input, textarea, select, button {
    font-size: max(16px, 1rem);
  }
}
